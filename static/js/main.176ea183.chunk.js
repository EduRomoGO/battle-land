(this["webpackJsonpbattle-land"]=this["webpackJsonpbattle-land"]||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a(21)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n,r,c=a(0),o=a.n(c),i=a(4),s=a.n(i),u=(a(13),a(14),a(15),a(16),a(6)),l=a(2),f=a(7),m=(a(17),function(t){var e=t.value,a=void 0===e?"?":e,n=function(t){return function(t){return parseInt(t,10)<=6&&parseInt(t,10)>=1}(t)||"?"===t};return o.a.createElement("div",{className:"c-dice component-wrapper"},o.a.createElement("div",{className:"js-value"},function(t){return n(t)?t:"An error occurred"}(a)))}),h=a(3),d=(n="bounceIn",r="bounceOut",function(t){return function(e){return o.a.createElement(h.AnimateOnChange,{animationIn:n,animationOut:r},o.a.createElement(t,e))}})(m);a(18);function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function v(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},c=Object.keys(t);for(n=0;n<c.length;n++)a=c[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)a=c[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=o.a.createElement("circle",{className:"progress-ring__circle"}),b=function(t){var e=t.svgRef,a=t.title,n=v(t,["svgRef","title"]);return o.a.createElement("svg",g({className:"progress-ring",ref:e},n),a?o.a.createElement("title",null,a):null,p)},y=o.a.forwardRef((function(t,e){return o.a.createElement(b,g({svgRef:e},t))})),E=(a.p,a(1)),k=function(t){return"c-fighter__attributes c-fighter__attributes__".concat(t)},O=function(t,e){var a=104*Math.PI,n=t-e;return{strokeDasharray:"".concat(a," ").concat(a),strokeDashoffset:function(){var r;if(0===e)r=a;else if(0===n)r=0;else{r=a-e/t*100/100*a}return r}()}},w=function(t){var e=t.type,a=t.className,n=t.initialHealth,r=t.currentHealth,i=t.dmg,s=t.attack,u=void 0===s?[void 0,void 0]:s,l=t.hasGameStarted,f=t.position,m=t.animationDelay;Object(c.useEffect)((function(){var t=g.current;if(i>0&&E.a.timeline().add({targets:".dmg-taken",duration:600,opacity:[0,1],translateY:[30,0]},m).add({targets:".dmg-taken",duration:600,opacity:[1,0],translateY:[0,-30],begin:function(){var e=O(n,r);t.style.strokeDasharray=e.strokeDasharray,t.style.strokeDashoffset=e.strokeDashoffset}}),!l){var e=O(n,r);t.style.strokeDasharray=e.strokeDasharray,t.style.strokeDashoffset=e.strokeDashoffset}}));var g=Object(c.useRef)();return o.a.createElement("section",{className:"c-fighter ".concat(a," component-wrapper")},o.a.createElement("div",{className:"dmg-taken"},function(t){return t?"- ".concat(t):""}(i)),o.a.createElement("div",{className:k(f)},o.a.createElement("div",{className:"c-fighter__health-avatar-wrapper"},o.a.createElement(y,{ref:g,className:"c-fighter-health-svg",tabIndex:"0"}),o.a.createElement("div",{className:"c-fighter__avatar"},function(t){return"monster"===t?"\ud83e\udddf\u200d\u2642\ufe0f":"\ud83e\uddd9\u200d\u2642\ufe0f"}(e))),o.a.createElement("div",{className:"c-fighter__die-wrapper"},u.map((function(t,e){return o.a.createElement(d,{key:e,value:t})}))),o.a.createElement(h.AnimateOnChange,{style:{display:"flex"},durationOut:500},o.a.createElement("div",{className:"c-fighter__total-attack"},function(t,e){return t?e.reduce((function(t,e){return t+e}),0):"?"}(l,u)))))},N=(a(19),function(t){var e=t.className,a=t.isDraw,n=t.hasGameStarted;return o.a.createElement("div",{className:"c-draw ".concat(e)},n&&a?"Draw":"")}),_=function(t){return Object(c.useEffect)((function(){Object(E.a)({targets:".draw-animation",delay:700,opacity:[0,1]})})),o.a.createElement(N,Object.assign({className:"draw-animation"},t))},j=(a(20),[1,2,3,4,5,6]),D=function(){return Math.floor(Math.random()*j.length)+1},I=function(t,e){return t[e].health},S=function(t,e){return t[e].attack},x=function(t){return t.attack&&t.attack.reduce((function(t,e){return t+e}),0)},L=function(t){var e=t.monster,a=t.character,n=x(e),r=x(a);return{monster:Math.max(r-n,0),character:Math.max(n-r,0)}},R=function(t){var e=t.monster,a=t.character;return!e.health||!a.health},M=function(t){var e=t.monster,a=t.character;return e.attack&&a.attack},P=function(t){var e=t.monster,a=t.character;return x(e)===x(a)},A=function(t,e){return L(t)[e]},G=function(t){return H[t].health},C=function(t){return"character"===t?"left":"right"},H={monster:{health:1,attack:void 0},character:{health:1,attack:void 0}},W=function(t,e){var a={resetState:function(){return H},attack:function(){var a={monster:{attack:e.payload.attack.monster},character:{attack:e.payload.attack.character}},n=L(a);return a.character.health=Math.max(t.character.health-n.character,0),a.monster.health=Math.max(t.monster.health-n.monster,0),a}};return a[e.type]?a[e.type]():function(){throw new Error}()},B=function(){var t=Object(c.useReducer)(W,H),e=Object(f.a)(t,2),a=e[0],n=e[1],r=Object(c.useRef)(null),i=Object(c.useRef)(null);Object(c.useEffect)((function(){var t=r.current,e=i.current;if(!P(a)){var n=function(t){var e=t.monster,a=t.character;return x(e)>x(a)?"monster":"character"}(a),c=".c-fighter-".concat(n),o=function(t){var a,n,r=(a={},Object(l.a)(a,C("character"),document.querySelector(".c-fighter-character")),Object(l.a)(a,C("monster"),document.querySelector(".c-fighter-monster")),a),o=function(t){var e=t.left,a=t.right;return"right"===t.movingNodePosition?a.offsetLeft-a.offsetWidth-e.offsetLeft:a.offsetLeft-e.offsetWidth-e.offsetLeft}(Object(u.a)({},r,{movingNodePosition:C(t)}));return e&&(e.disabled=!0),E.a.timeline().add({targets:c,translateX:(n=C(t),"right"===n?[0,-o]:[0,o]),opacity:1,duration:500},1800).add({targets:c,translateX:function(t){return"right"===t?[-o,0]:[o,0]}(C(t)),opacity:1,duration:500,complete:function(){e&&(e.disabled=!1)}})};R(a)?o(n).add({targets:".b-winner",opacity:[0,1],begin:function(){e.classList.add("hidden"),t.classList.add("b-fighters--blur")},easing:"easeInOutQuad"}).add({targets:".b-winner__msg",opacity:[0,1],fontSize:["1rem","5rem"],easing:"easeInOutQuad"}).add({targets:".b-winner__play-again",opacity:[0,1],easing:"easeInOutQuad"},"+=200"):o(n)}return function(){e.classList.remove("hidden"),t.classList.remove("b-fighters--blur")}}));var s=function(){var t={monster:[D(),D()],character:[D(),D()]};n({type:"attack",payload:{attack:t}})},m=function(t){return o.a.createElement(w,{className:"c-fighter-".concat(t),type:t,currentHealth:I(a,t),attack:S(a,t),dmg:A(a,t),hasGameStarted:M(a),position:C(t),initialHealth:G(t),animationDelay:1800})},h=function(){n({type:"resetState"})};return o.a.createElement("section",{className:"c-game"},function(t){if(R(t)){var e="monster"===(t.monster.health?"monster":"character")?"Game Over":"Victory!!";return o.a.createElement("section",{className:"b-winner"},o.a.createElement("div",{className:"b-winner__msg"},e),o.a.createElement("button",{className:"b-winner__play-again button button--sun button--big-font",onClick:h},"Play Again"))}}(a),o.a.createElement("div",{className:"c-game__actions"},o.a.createElement("button",{ref:i,className:"button button--salmon button--big-font",onClick:s},"Attack")),o.a.createElement("section",{ref:r,className:"b-fighters"},o.a.createElement("div",{className:"b-fighters__subwrapper"},m("character"),o.a.createElement(_,{hasGameStarted:M(a),isDraw:P(a)}),m("monster"))))};var Q=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement("h1",{className:"title"},"Battle Land")),o.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.176ea183.chunk.js.map